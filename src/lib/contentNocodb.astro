---
import { api } from './api/nocodb.ts';

export async function getData(tableId: string, query: object = {}) {
  try {
    const response = await api.get(`/api/v2/tables/${tableId}/records`, { params: query });
    return response.data;
  } catch (error) {
    console.error('Error fetching data:', error);
    throw error;
  }
}

export async function insertData(tableId: string, data: object[]) {
  try {
    const response = await api.post(`/api/v2/tables/${tableId}/records`, data);
    return response.data;
  } catch (error) {
    console.error('Error inserting data:', error);
    throw error;
  }
}

export async function deleteData(tableId: string, recordIds: string[]) {
  try {
    const response = await api.delete(`/api/v2/tables/${tableId}/records`, { data: recordIds });
    return response.data;
  } catch (error) {
    console.error('Error deleting data:', error);
    throw error;
  }
}
---